---
layout: post
title:  "位图缓存"
permalink: post/manual/bitmap/bitmapcache.html
type: manual
element: manualtexture
version: Egret引擎 v1.x
---

位图缓存的存在仅仅是从性能上的考虑，当使用位图缓存后，我们可以大大加快位图的渲染速度，从而提高游戏的帧频。
为了解释位图缓存问题，我们先来看下面一张图片。


![img]({{site.baseurl}}/assets/img/bitmapcache1.png)

这张图片分为左右两部分，我们先来理解左侧这部分内容。

我们绘制了一个主循环框，表示执行一次渲染操作，我们需要对多张位图进行渲染。右侧的内容表示位图的渲染过程。

首先我们看第一步，也是红色的部分，我们先需要去除内存中的原始纹理图片，这个原始纹理图片就是我们在设置 `texture` 属性时设置的。

第二步为变换操作，我们需要对纹理的所有属性进行操作，例如改变宽度、高度，设置缩放比例，通过填充方式改变图形显示内容等等。
这一步操作即为消耗CPU性能，因为要做大量运算。

第三步是将变换后的纹理图片提交渲染，此时得到的渲染数据才是我们看到的渲染数据。

很明显，当一些样式始终不变的图像经过上述操作时，完全会消耗一些不必要的性能。此时我们可以使用位图缓存将这些变换后的结果
全部缓存到内存中，下次渲染时候就可以直接进行渲染了。

**但值得注意的是，当你的位图缓存开启后，该位图无论你如何设置宽高等相关属性，渲染后的画面都不会改变。**

开启位图渲染的方法是将 `Bitmap` 中的 `` 属性设置为 ``

开启位图缓存后我们的渲染流程变为了下图：

![img]({{site.baseurl}}/assets/img/bitmapcache2.png)

